{"version":3,"sources":["actions/utils.js","actions/auth.js","store/SearchProvider.jsx","components/search-bar.jsx","components/search-result.jsx","components/search-results.jsx","components/search.jsx","components/header-bar.jsx","3d/galaxy.jsx","3d/spiral-galaxy.jsx","3d/stars.jsx","store/GalaxyProvider.jsx","3d/camera-controller.jsx","3d/solar-system-mini.jsx","3d/pivot-sphere-solar.jsx","components/galaxy.jsx","pages/landing-page.jsx","components/requires-login.jsx","components/users-guesser.jsx","pages/admin-page.jsx","pages/dashboard-page.jsx","components/input.jsx","validators.js","components/registration-form.jsx","actions/users.js","pages/registration-page.jsx","components/login-form.jsx","pages/login-page.jsx","3d/solar-system.jsx","3d/planet.jsx","3d/pivot-sphere-planets.jsx","3d/controls.jsx","components/solar-system.jsx","pages/shops-page.jsx","pages/shop-page.jsx","components/loading.jsx","pages/product-page.jsx","components/cart-item.jsx","components/cart-total.jsx","components/cart.jsx","pages/cart-page.jsx","store/CheckoutProvider.jsx","components/checkout-customer.jsx","components/checkout-shipping.jsx","components/checkout-total.jsx","pages/checkout-page.jsx","pages/orders-page.jsx","components/app.jsx","reducers/auth.js","actions/protected-data.js","reducers/protected-data.js","store.js","reducers/cart.js","index.jsx","images/SVG/basket.svg","images/space.jpg","images/SVG/dashboard.svg","images/SVG/user.svg","images/SVG/settings.svg","images/SVG/logout.svg","images/galaxy2.png","images/flare.png","images/2k_sun.jpg","images/SVG/minus-solid.svg","images/SVG/plus-solid.svg","images/SVG/credit-card-maestro.svg","images/SVG/credit-card-master.svg","images/SVG/credit-card-american-express.svg","images/SVG/credit-card-visa.svg","images/SVG/credit-card-paypal.svg"],"names":["normalizeResponseErrors","res","ok","headers","has","get","startsWith","json","then","err","Promise","reject","code","status","message","statusText","setAuthToken","token","refreshToken","type","authError","error","storeAuthInfo","dispatch","decodedToken","jwtDecode","currentUser","localStorage","setItem","login","email","password","fetch","process","method","body","JSON","stringify","refresh_token","catch","SubmissionError","_error","refreshAuthToken","getState","auth","console","removeItem","SearchContext","createContext","SearchProvider","Component","constructor","props","super","this","state","loading","timeout","results","fetchResults","bind","setResults","setState","clearResults","query","clearTimeout","setTimeout","render","Provider","value","children","SearchBar","handleChange","event","target","trim","length","context","id","placeholder","onChange","contextType","SearchResult","addCart","product","quantity","name","price","description","className","style","marginRight","marginLeft","borderRadius","src","alt","Link","onClick","hideResults","to","fontSize","textAlign","margin","float","connect","SearchResults","ref","mount","map","result","Search","showResults","handleClickOutside","contains","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","HeaderBar","React","logOut","IconBasket","cart","IconUser","roles","includes","href","IconSettings","IconDashboard","IconLogout","Galaxy","useRef","useFrame","current","rotation","z","texture","THREE","load","ImageGalaxy","position","rotation-x","Math","PI","attach","args","side","transparent","opacity","SpiralGalaxy","t","y","iteration","floatSpread","distanceFactor","color","positions","useMemo","i","norm","theta","randFloatSpread","phi","distance","push","sin","cos","Float32Array","attachObject","array","count","itemSize","Stars","initialState","hover","zoom","loadingCategories","loadingShops","categories","shops","store","GalaxyProvider","useReducer","action","history","category","category_id","Error","CameraController","useContext","camera","useThree","x","lerp","updateProjectionMatrix","SolarSystem","globalState","ImageFlare","handleClick","preventDefault","setFromMatrixPosition","matrixWorld","depthTest","cursor","PivotSphere","planetProps","key","Content","useEffect","Fragment","top","backgroundColor","backgroundImage","Background","fov","near","far","resize","scroll","LandingPage","RequiresLogin","authenticating","loggedIn","passThroughProps","Redirect","displayName","Edit","source","ArrayInput","SimpleFormIterator","TextInput","ReferenceInput","reference","filterToQuery","searchText","AutocompleteInput","optionText","Create","List","ReferenceField","TextField","Show","addLabel","apiDocumentationParser","entrypoint","parseHydraDocumentation","Headers","getItem","api","resolve","customRoutes","path","dataProvider","baseDataProvider","url","options","baseFetchHydra","AdminPage","loginPage","icon","ShoppingCart","AddShoppingCart","Class","Person","VerifiedUser","Apps","RecordVoiceOver","FormatListBulleted","Store","GridOn","list","UsersGuesser","create","edit","show","UsersIcon","requiresLogin","username","DashboardPage","protectedData","data","Input","componentDidUpdate","prevProps","meta","active","input","focus","warning","touched","required","undefined","nonEmpty","isTrimmed","passwordLength","min","max","matchesPassword","field","allValues","RegistrationForm","onSubmit","values","user","reason","location","registerUser","handleSubmit","Field","component","validate","disabled","pristine","submitting","reduxForm","form","onSubmitFail","errors","Object","keys","LoginForm","aria-live","System","Image2kSun","rotation-y","Planet","shop_id","floor","random","shop_name","randomIntFromInterval","shop","Controls","intensity","extend","OrbitControls","UnrealBloomPass","EffectComposer","RenderPass","onCreated","lookAt","ShopsPage","match","params","ShopPage","setSortBy","sortBy","toggleDirection","direction","goToPage","activePage","prevPage","nextPage","shopItems","searchQuery","fetchText","r","all","resShopItems","paginate","pages","Links","Flex","justifyContent","GoToPage","PageIndicator","Navigation","items","title","ToggleLink","display","gridGap","gridAutoflow","fontWeight","class","width","height","e","parseInt","Loading","rel","ProductPage","productdetail","product_id","fetchCart","Products","images","log","CartItem","IconMinusSolid","IconPlusSolid","ownProps","CartTotal","total","item","reduce","accumulator","currentValue","IconCreditCardMaestro","IconCreditCardMaster","IconCreditCardAmerican","IconCreditCardVisa","IconCreditCardPaypal","Cart","shopItem","index","filter","shopItemB","self","findIndex","CartPage","CheckoutContext","CheckoutProvider","cartItems","parse","step","customer","shipping","nextStep","prevState","previousStep","setShippingData","setCustomerData","CustomerInformation","firstname","lastname","address","cardNumber","cvv","expiryMonth","expiryYear","postData","for","cardholdername","pattern","maxlength","data-balloon-length","data-balloon","data-balloon-pos","Shipping","courier","checked","Total","confirm","orders","cartItem","CheckoutPage","Consumer","OrdersPage","order","shippingType","App","startPeriodicRefresh","stopPeriodicRefresh","refreshInterval","setInterval","clearInterval","Switch","Route","exact","RegistrationPage","LoginPage","DetailsProduct","withRouter","hasAuthToken","authToken","createStore","combineReducers","splice","formReducer","assign","applyMiddleware","thunk","subscribe","ReactDOM","basename","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b8c6661f.chunk.js","sourcesContent":["// Boilerplate code for handling errors from the API.  If the error response\n// contains JSON then we return a rejected promise containing the decoded\n// JSON.  If the error doesn't contain JSON then we return a rejected promise\n// containing the status text.  If there is no error then we continue with\n// the promise chain.\nexport const normalizeResponseErrors = res => {\n    if (!res.ok) {\n        if (\n            res.headers.has('content-type') &&\n            res.headers.get('content-type').startsWith('application/json')\n        ) {\n            // It's a nice JSON error returned by us, so decode it\n            return res.json().then(err => Promise.reject(err));\n        }\n        // It's a less informative error returned by express\n        return Promise.reject({\n            code: res.status,\n            message: res.statusText\n        });\n    }\n    return res;\n};\n","import jwtDecode from 'jwt-decode';\nimport {SubmissionError} from 'redux-form';\n\nimport {normalizeResponseErrors} from './utils';\n\nexport const SET_AUTH_TOKEN = 'SET_AUTH_TOKEN';\nexport const setAuthToken = (token, refreshToken) => ({\n\ttype: SET_AUTH_TOKEN,\n\ttoken,\n\trefreshToken\n});\n\nexport const CLEAR_AUTH = 'CLEAR_AUTH';\nexport const clearAuth = () => ({\n\ttype: CLEAR_AUTH\n});\n\nexport const AUTH_REQUEST = 'AUTH_REQUEST';\nexport const authRequest = () => ({\n\ttype: AUTH_REQUEST\n});\n\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const authSuccess = currentUser => ({\n\ttype: AUTH_SUCCESS,\n\tcurrentUser\n});\n\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const authError = error => ({\n\ttype: AUTH_ERROR,\n\terror\n});\n\n// Stores the auth token in state and localStorage, and decodes and stores\n// the user data stored in the token\nconst storeAuthInfo = (token, refreshToken, dispatch) => {\n\tconst decodedToken = jwtDecode(token);\n\tdispatch(setAuthToken(token, refreshToken));\n\tdispatch(authSuccess(decodedToken));\n\tlocalStorage.setItem(\"token\", token)\n\tlocalStorage.setItem(\"refresh_token\", refreshToken)\n};\n\nexport const login = (email, password) => dispatch => {\n\tdispatch(authRequest());\n\treturn (\n\t\tfetch(`${process.env.REACT_APP_API_URL}/login_check`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tpassword\n\t\t\t})\n\t\t})\n\t\t\t// Reject any requests which don't return a 200 status, creating\n\t\t\t// errors which follow a consistent format\n\t\t\t.then(res => normalizeResponseErrors(res))\n\t\t\t.then(res => res.json())\n\t\t\t.then(({token, refresh_token}) => storeAuthInfo(token, refresh_token, dispatch))\n\t\t\t.catch(err => {\n\t\t\t\tconst {code} = err;\n\t\t\t\tconst message =\n\t\t\t\t\tcode === 401\n\t\t\t\t\t\t? 'Incorrect email or password'\n\t\t\t\t\t\t: 'Unable to login, please try again';\n\t\t\t\tdispatch(authError(err));\n\t\t\t\t// Could not authenticate, so return a SubmissionError for Redux\n\t\t\t\t// Form\n\t\t\t\treturn Promise.reject(\n\t\t\t\t\tnew SubmissionError({\n\t\t\t\t\t\t_error: message\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t})\n\t);\n};\n\nexport const refreshAuthToken = () => (dispatch, getState) => {\n\tdispatch(authRequest());\n\tconst token = getState().auth.refreshToken;\n\treturn fetch(`/auth/refresh`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\trefresh_token: token\n\t\t})\n\t})\n\t\t.then(res => normalizeResponseErrors(res))\n\t\t.then(res => res.json())\n\t\t.then(({token, refresh_token}) => storeAuthInfo(token, refresh_token, dispatch))\n\t\t.catch(err => {\n\t\t\t// TODO\n\t\t\tconsole.error(err)\n\t\t\t// We couldn't get a refresh token because our current credentials\n\t\t\t// are invalid or expired, or something else went wrong, so clear\n\t\t\t// them and sign us out\n\t\t\tdispatch(authError(err));\n\t\t\tdispatch(clearAuth());\n\t\t\tlocalStorage.removeItem(\"token\")\n\t\t});\n};\n","import React, { createContext, Component } from \"react\";\n\nexport const SearchContext = createContext();\n\nexport default class SearchProvider extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            loading: null,\n            timeout: null,\n            results: [],\n            fetchResults: this.fetchResults.bind(this),\n\t\t\tsetResults: results => this.setState({ results }),\n\t\t\tclearResults: () => this.setState({ results: [] })\n\t\t}\n    }\n     \n    \n    fetchResults(query) {\n        this.setState({loading: true})\n        clearTimeout(this.state.timeout)\n        this.setState({\n            timeout: setTimeout(() => {\n                fetch(`${process.env.REACT_APP_API_URL}/products?name=${query}`)\n                    .then(res => res.json())\n                    .then(res => {\n                        this.setState({\n                            loading: false,\n                            results: res[\"hydra:member\"]\n                        })\n                    })\n            }, 500)\n        })\n    }\n\n\n\trender() {\n        return (\n            <SearchContext.Provider value={this.state}>\n                {this.props.children}\n            </SearchContext.Provider>\n        );\n\t}\n}","import React, { Component } from 'react'\nimport {SearchContext} from '../store/SearchProvider'\n\nexport default class SearchBar extends Component {\n\n    static contextType = SearchContext\n\n    handleChange(event) {\n        let target = event.target\n        if(target.value.trim().length >= 1) {\n            this.context.fetchResults(target.value)\n        } else {\n            this.context.clearResults()\n        }\n    }\n\n    render() {\n       return (\n            <input id=\"searchBar\" type=\"text\" placeholder={\"Search...\"}  onChange={this.handleChange.bind(this)} />\n       )\n    }\n}","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux'\nimport { SearchContext } from '../store/SearchProvider'\n\nclass SearchResult extends Component {\n\n    static contextType = SearchContext\n\n    addCart(product) {\n        this.props.dispatch({\n            type: \"ADD_PRODUCT\",\n            product: { ...product, quantity: 1 }\n        })\n    }\n\n    render() {\n        let { id, name, price, description } = this.props\n        return (\n            <div className=\"SearchResultItem\">\n                <img style={{ marginRight: 15, marginLeft: 5, borderRadius: 15 }} src='https://fakeimg.pl/80x80/282828/F2F4F3' alt=\"\" />\n                <div>\n                    <h4><Link onClick={this.props.hideResults} to={`/product/${id}`}>{name}</Link></h4>\n                    <p style={{ fontSize: '0.7rem', textAlign: \"justify\", margin: \"5px 0 11px\" }}>{description}</p>\n                    <div >\n                        <p style={{ float: \"left\" }}>{price} &euro;</p>\n                        <button className=\"addToCart\" onClick={() => this.addCart(this.props)}>Ajouter au panier</button>\n                    </div>\n                </div>\n            </div>\n\n\n        )\n    }\n}\nexport default connect()(SearchResult);","import React, { Component } from 'react'\nimport SearchResult from './search-result'\nimport {SearchContext} from '../store/SearchProvider'\n\nexport default class SearchResults extends Component {\n\n    static contextType = SearchContext\n\n    render() {\n        if(this.context.loading === false) {\n            if (this.context.results.length >= 1) {\n                return (\n                    <div ref={this.mount} className=\"resultSearchBar\">\n                        {this.context.results.map(result =>\n                            <SearchResult hideResults={this.props.hideResults} {...result} />\n                        )}\n                    </div>\n                )\n            } else {\n                return null\n            }\n        }\n        else {\n            return null\n        }\n    }\n}","import React, { Component } from 'react'\nimport SearchBar from './search-bar'\nimport SearchProvider from '../store/SearchProvider'\nimport SearchResults from './search-results'\n\nexport default class Search extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            showResults: false\n        }\n    }\n\n    handleClickOutside(event) {\n        if (this.mount && this.mount.contains(event.target) === true) {\n            this.setState({\n                showResults: true\n            })\n        } else {\n            this.setState({\n                showResults: false\n            })\n        }\n    }\n\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside.bind(this));\n        document.addEventListener('mousedown', this.handleClickOutside.bind(this));\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside.bind(this));\n    }\n\n    render() {\n        return (\n            <div ref={ref => this.mount = ref} id=\"containerSearch\">\n                <SearchProvider>\n                    <SearchBar />\n                    {this.state.showResults === true && <SearchResults hideResults={() => {\n                        this.setState({\n                            showResults: false\n                        })\n                    }} /> }\n                </SearchProvider>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport {connect} from 'react-redux';\nimport {clearAuth} from '../actions/auth';\nimport {Link} from 'react-router-dom';\nimport  Search from './search';\n\nimport IconBasket from \"../images/SVG/basket.svg\"\nimport IconDashboard from \"../images/SVG/dashboard.svg\"\nimport IconUser from \"../images/SVG/user.svg\"\nimport IconSettings from \"../images/SVG/settings.svg\"\nimport IconLogout from \"../images/SVG/logout.svg\"\n\nexport class HeaderBar extends React.Component {\n\n\tlogOut() {\n\t\tthis.props.dispatch(clearAuth());\n\t\tlocalStorage.removeItem(\"token\")\n\t\tlocalStorage.removeItem(\"refreshToken\")\n\t}\n\n\trender() {\n\t\treturn\t(\n\t\t\t<div className=\"header-bar\">\n\t\t\t\t<Link to=\"/\"><h1 id=\"logo\">UNIVERSHOP</h1></Link>\n\t\t\t\t<Search />\n\t\t\t\t<ul>\n\t\t\t\t\t<li><Link to=\"/cart\"><img src={IconBasket} className=\"icon\" alt=\"#\" /><small>{/* this.props.cart.filter((item, index, self) => {\n\t\t\t\t\t\t\tlet findIndex = self.findIndex(itemB => item.id === itemB.id)\n\t\t\t\t\t\t\treturn findIndex === index\n\t\t\t\t\t\t}) */this.props.cart.length}</small></Link><span>Panier</span></li>\n\t\t\t\t\t{this.props.currentUser === null ?\n\t\t\t\t\t\t\t<li><Link to=\"/login\"><img src={IconUser} className=\"icon\" alt=\"#\" /></Link><span>Login</span></li>\n\t\t\t\t\t: [\n\t\t\t\t\t\tthis.props.currentUser.roles.includes(\"ROLE_ADMIN\") && (\n\t\t\t\t\t\t\t<li><a href=\"/admin\" target=\"_blank\"><img src={IconSettings} className=\"icon\" alt=\"#\" /></a><span>Admin</span></li>\n\n\t\t\t\t\t\t),\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<li><Link to=\"/dashboard\"><img src={IconDashboard} className=\"icon\" alt=\"#\" /></Link><span>Dashboard</span></li>\n\t\t\t\t\t\t\t<li onClick={() => this.logOut()}><img src={IconLogout} className=\"icon\" id=\"logout\" alt=\"#\" /><span>Logout</span></li>\n\t\t\t\t\t\t</>\n\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tcart: state.cart,\n\tcurrentUser: state.auth.currentUser\n});\n\nexport default connect(mapStateToProps)(HeaderBar);\n","import React, { useRef } from 'react';\nimport { useFrame } from \"react-three-fiber\";\nimport * as THREE from 'three'\nimport ImageGalaxy from \"../images/galaxy2.png\"\n\nexport default function Galaxy() {\n  const ref = useRef()\n  useFrame(() => (ref.current.rotation.z += 0.001))\n  const texture = new THREE.TextureLoader().load(ImageGalaxy);\n  return (\n    <mesh ref={ref} position={[0, 1, 0]} rotation-x={Math.PI / 2}>\n      <planeBufferGeometry attach=\"geometry\" args={[1500, 1500, 1]} />\n      <meshBasicMaterial side={THREE.BackSide} transparent opacity={0.8} attach=\"material\" map={texture} />\n    </mesh>\n  )\n}","import React, { useRef, useMemo } from 'react';\nimport { useFrame } from \"react-three-fiber\";\n\nimport * as THREE from \"three\";\n\nexport default function SpiralGalaxy(props) {\n  let t = props.t\n  const ref = useRef()\n  useFrame(() => (ref.current.rotation.y -= 0.001))\n  const { iteration, floatSpread, distanceFactor, color } = props\n  const positions = useMemo(() => {\n    let positions = []\n    for (let y = 0; y < iteration; y++) {\n      t++\n      for (let i = 0; i < 1000; i++) {\n        const norm = i / 1000;\n        const theta = norm * Math.PI + t + THREE.Math.randFloatSpread(floatSpread);\n        const phi = THREE.Math.randFloatSpread(0.15)\n        const distance = norm * distanceFactor;\n        positions.push(distance * Math.sin(theta) * Math.cos(phi))\n        positions.push(distance * Math.sin(theta) * Math.sin(phi))\n        positions.push(distance * Math.cos(theta))\n      }\n    }\n    return new Float32Array(positions)\n  }, [iteration, floatSpread, t, distanceFactor])\n  return (\n    <points ref={ref}>\n      <bufferGeometry attach=\"geometry\">\n        <bufferAttribute\n          attachObject={['attributes', 'position']}\n          array={positions}\n          count={positions.length / 3}\n          itemSize={3}\n        />\n      </bufferGeometry>\n      <pointsMaterial attach=\"material\" color={color} />\n    </points>\n  )\n}\n","import React from 'react';\n\nimport SpiralGalaxy from './spiral-galaxy'\n\nexport default function Stars() {  // TODO\n  return (\n    <>\n      <SpiralGalaxy iteration={8} t={0} floatSpread={0.5} distanceFactor={1000} color={0xffffff} />\n      <SpiralGalaxy iteration={12} t={16} floatSpread={10} distanceFactor={1500} color=\"#51fcff\" /> // TODO\n      <SpiralGalaxy iteration={8} t={8} floatSpread={0.5} distanceFactor={500} color={0xffffff} />\n    </>\n  )\n}","import React, { createContext, useReducer } from 'react';\nimport * as THREE from \"three\";\n\nconst initialState = { hover: false, position: new THREE.Vector3(), zoom: false, loadingCategories: null, loadingShops: null, categories: [], shops: []};\nconst store = createContext(initialState);\nconst { Provider } = store;\n\nconst GalaxyProvider = ({ children }) => {\n  const [state, dispatch] = useReducer((state, action) => {\n    if(action.type === \"hover\") {\n      state.hover = action.hover\n      return state\n    } else if (action.type === \"position\") {\n      state.position = action.position\n      return state\n    } else if (action.type === \"zoom\") {\n      state.zoom = action.zoom\n      return state\n    } else if (action.type === \"history\") {\n      state.history = action.history\n      return state\n    } else if (action.type === \"categoriesLoaded\") {\n      return {\n        ...state,\n        loadingCategories: false,\n        categories: action.categories\n      }\n    } else if (action.type === \"shopsLoaded\") {\n      return {\n        ...state,\n        loadingShops: false,\n        shops: action.shops,\n        category: action.category\n      }\n    } else if (action.type === \"loadingCategories\") {\n      return {\n        ...state,\n        history: action.history,\n        loadingCategories: true\n      }\n    } else if (action.type === \"loadingShops\") {\n      return {\n        ...state,\n        history: action.history,\n        category_id: action.category_id,\n        loadingShops: true\n      }\n    } else {\n        throw new Error();\n    }\n  }, initialState);\n\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { store, GalaxyProvider }","import { useContext } from 'react';\nimport { useThree, useFrame } from \"react-three-fiber\";\nimport lerp from 'lerp'\n\nimport { store } from '../store/GalaxyProvider';\n\nexport default function CameraController() {\n  const { state } = useContext(store);\n  const { camera } = useThree()\n  useFrame(() => {\n    if (state.zoom === false) {\n      camera.position.x = lerp(camera.position.x, -200, 0.08)\n      camera.position.y = lerp(camera.position.y, 400, 0.08)\n      camera.position.z = lerp(camera.position.z, 1000, 0.08)\n    }\n    else {\n      camera.position.x = lerp(camera.position.x, state.position.x, 0.08)\n      camera.position.y = lerp(camera.position.y, state.position.y, 0.08)\n      camera.position.z = lerp(camera.position.z, state.position.z, 0.08)\n    }\n    camera.updateProjectionMatrix()\n  })\n\n  // Zooms the cam from 100 to 7. Since it's inside the Suspense boundary, it will\n  // start doing that once everything's loaded/processed :]\n\n  return null\n}","import React, { useContext, useRef } from 'react';\nimport { Dom } from \"react-three-fiber\";\nimport ImageFlare from \"../images/flare.png\"\n\nimport * as THREE from \"three\";\n\nimport { store } from '../store/GalaxyProvider';\n\nexport default function SolarSystem(props) {\n  const globalState = useContext(store);\n  const { dispatch, state } = globalState;\n  const ref = useRef()\n  const texture = new THREE.TextureLoader().load(ImageFlare);\n\n  const handleClick = (event) => {\n    if(typeof event.preventDefault !== \"undefined\") {\n      event.preventDefault(); //will stop the link href to call the blog page\n    }\n    state.position.setFromMatrixPosition(ref.current.matrixWorld);\n    dispatch({ type: \"zoom\", zoom: true })\n\n    setTimeout(function () {\n      state.history.push('/category/' + props.category_id)\n    }, 700); //will call the function after 2 secs.\n  }\n\n  return (\n    <mesh\n      ref={ref}\n      {...props}\n      onClick={handleClick} // TODO Show tooltip\n    >\n      <planeBufferGeometry attach=\"geometry\" args={[70, 70, 30]} />\n      <meshBasicMaterial side={THREE.BackSide} depthTest={false} transparent attach=\"material\" map={texture} />\n      <Dom>\n        <div onClick={handleClick}\n          style={{ cursor: 'pointer' }} className=\"content-planet-sdauhsdayudash\">\n          <a className=\"categories\" >{props.name}</a>\n        </div>\n      </Dom>\n    </mesh>\n  )\n}\n","import React, { useContext, useRef } from 'react';\nimport { useFrame } from \"react-three-fiber\";\n\nimport SolarSystem from './solar-system-mini'\n\nimport { store } from '../store/GalaxyProvider';\n\nexport default function PivotSphere() {\n  const ref = useRef()\n  const { state } = useContext(store);\n  useFrame(() => (ref.current.rotation.z += 0.001))\n  return (\n    <group>\n      <mesh ref={ref} position={[0, 1, 0]} rotation-x={Math.PI / 2}>\n        <planeBufferGeometry attach=\"geometry\" args={[1, 1, 1]} />\n        {[\n          { name: state.categories[0].name, category_id: state.categories[0].id, position: [400, 1, -50], \"rotation-z\": Math.PI / 2 },\n          { name: state.categories[1].name, category_id: state.categories[1].id, position: [2, 300, -50], \"rotation-z\": Math.PI / 2 },\n          { name: state.categories[2].name, category_id: state.categories[2].id, position: [30, -400, -50], \"rotation-z\": Math.PI / 3 },\n          { name: state.categories[3].name, category_id: state.categories[3].id, position: [-300, 0, -50], \"rotation-z\": Math.PI / 4 },\n          { name: state.categories[4].name, category_id: state.categories[4].id, position: [200, 200, -50], \"rotation-z\": Math.PI / 5 }\n        ].map(planetProps => (<SolarSystem key={planetProps.category_id} {...planetProps} />))}\n      </mesh>\n    </group>\n  )\n}","import React, { useEffect , useContext } from 'react';\nimport { Canvas } from \"react-three-fiber\";\n\nimport Galaxy from '../3d/galaxy'\nimport Stars from '../3d/stars'\nimport CameraController from '../3d/camera-controller'\nimport PivotSphere from '../3d/pivot-sphere-solar'\n\nimport { store, GalaxyProvider } from '../store/GalaxyProvider';\nimport Background from '../images/space.jpg';\n\nfunction Content(props) {\n\tconst globalState = useContext(store);\n\tconst { dispatch } = globalState;\n\tuseEffect(() => {\n\t\tdispatch({ type: \"loadingCategories\", history: props.history })\n\t\tfetch(`${process.env.REACT_APP_API_URL}/categories`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(res => {\n\t\t\t\tdispatch({ type: \"categoriesLoaded\", categories: res[\"hydra:member\"] })\n\t\t\t})\n\t}, [])\n\tif (globalState.state.loadingCategories === false) {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<Galaxy />\n\t\t\t\t<Stars />\n\t\t\t\t<PivotSphere />\n\t\t\t\t<CameraController />\n\t\t\t</React.Fragment>\n\t\t)\n\t} else {\n\t\treturn null\n\t}\n}\n\nexport default function (props) {\n\n\treturn (\n\t\t<Canvas\n\t\t\tstyle={{ position: \"absolute\", top: 0, backgroundColor: 'black', backgroundImage: `url(${Background})` }}\n\t\t\t// camera={{ position: [-200, 400, 1000], rotation: [-0.5, -0.2, -0.6], fov: 50, near: 100, far: 5000}}\n\t\t\tcamera={{ position: [-1000, 2000, 5000], rotation: [-0.5, -0.2, -0.6], fov: 50, near: 10, far: 10000 }}\n\t\t\tresize={{ scroll: false }}\n\t\t>\n\t\t\t<GalaxyProvider>\n\t\t\t\t<Content history={props.history} />\n\t\t\t</GalaxyProvider>\n\t\t</Canvas>\n\t)\n}","import React from 'react';\nimport Galaxy from '../components/galaxy';\n\nclass LandingPage extends React.Component{\n\n\t  render() {\n\t\t\treturn (\n\t\t\t\t<Galaxy history={this.props.history} />\n\t\t\t);\n\t\t}\n\t\t\n}\nexport default LandingPage;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\n\nexport default () => Component => {\n\tfunction RequiresLogin(props) {\n\t\tconst {authenticating, loggedIn, error, ...passThroughProps} = props;\n\t\tif (authenticating) {\n\t\t\treturn <div>Logging in...</div>;\n\t\t} else if (!loggedIn || error) {\n\t\t\treturn <Redirect to=\"/login\" />;\n\t\t}\n\n\t\treturn <Component {...passThroughProps} />;\n\t}\n\n\tconst displayName = Component.displayName || Component.name || 'Component';\n\tRequiresLogin.displayName = `RequiresLogin(${displayName})`;\n\n\tconst mapStateToProps = (state, props) => ({\n\t\tauthenticating: state.auth.loading,\n\t\tloggedIn: state.auth.currentUser !== null,\n\t\terror: state.auth.error\n\t});\n\n\treturn connect(mapStateToProps)(RequiresLogin);\n};\n","import React from 'react';\nimport { \n\tReferenceInput, \n\tReferenceField, \n\tTextField, \n\tAutocompleteInput,\n\tArrayInput,\n\tSimpleFormIterator,\n\tTextInput,\n\t// AutocompleteArrayInput ,\n\t// SelectArrayInput,\n\t// ReferenceFieldController\n} from \"react-admin\";\n\nimport { \n\tListGuesser,\n\tCreateGuesser,\n\tFieldGuesser,\n\tEditGuesser,\n\tInputGuesser,\n\tShowGuesser\n } from '@api-platform/admin';\n\n\nexport const Edit = props => (\n\t<EditGuesser  {...props}>\n\t\t<InputGuesser source=\"username\" />\n\t\t<InputGuesser source=\"email\" />\n\t\t{/*<InputGuesser source=\"roles\" />*/}\n\t\t{/*<AutocompleteArrayInput source=\"roles\" choices={['main', 'coauthor']} optionText={choice => choice} />*/}\n\t\t<ArrayInput source=\"roles\">\n\t\t\t<SimpleFormIterator>\n\t\t\t\t<TextInput />\n\t\t\t</SimpleFormIterator>\n\t\t</ArrayInput>\n\t\t<ReferenceInput\n\t\t\tsource=\"customer\"\n\t\t\treference=\"customers\"\n\t\t\tfilterToQuery={searchText => ({ name: searchText })}\n\t\t>\n\t\t\t<AutocompleteInput optionText=\"name\" />\n\t\t</ReferenceInput>\n\t\t<ReferenceInput\n\t\t\tsource=\"merchant\"\n\t\t\treference=\"merchants\"\n\t\t\tfilterToQuery={searchText => ({ name: searchText })}\n\t\t>\n\t\t\t<AutocompleteInput optionText=\"name\" />\n\t\t</ReferenceInput>\n\t\t<ReferenceInput\n\t\t\tsource=\"seller\"\n\t\t\treference=\"sellers\"\n\t\t\tfilterToQuery={searchText => ({ name: searchText })}\n\t\t>\n\t\t\t<AutocompleteInput optionText=\"name\" />\n\t\t</ReferenceInput>\n\t</EditGuesser >\n);\n\nexport const Create = props => (\n\t<CreateGuesser {...props}>\n\t\t<InputGuesser source=\"username\" />\n\t\t<InputGuesser source=\"email\" type=\"email\"/>\n\t\t<InputGuesser source=\"password\" type=\"password\"/>\n\t\t<InputGuesser source=\"roles\" />\n\t\t<ReferenceInput\n\t\t\tsource=\"customer\"\n\t\t\treference=\"customers\"\n\t\t\tfilterToQuery={searchText => ({ name: searchText })}\n\t\t>\n\t\t\t<AutocompleteInput optionText=\"name\" />\n\t\t</ReferenceInput>\n\t\t<ReferenceInput\n\t\t\tsource=\"merchant\"\n\t\t\treference=\"merchants\"\n\t\t\tfilterToQuery={searchText => ({ name: searchText })}\n\t\t>\n\t\t\t<AutocompleteInput optionText=\"name\" />\n\t\t</ReferenceInput>\n\t\t<ReferenceInput\n\t\t\tsource=\"seller\"\n\t\t\treference=\"sellers\"\n\t\t\tfilterToQuery={searchText => ({ name: searchText })}\n\t\t>\n\t\t\t<AutocompleteInput optionText=\"name\" />\n\t\t</ReferenceInput>\n\t</CreateGuesser>\n);\n\nexport const List = props => (\n\t<ListGuesser {...props}>\n\t\t<FieldGuesser source=\"username\" />\n\t\t<FieldGuesser source=\"email\" />\n\t\t<FieldGuesser source=\"roles\" />\n\t\t<ReferenceField\n\t\t\tsource=\"customer\"\n\t\t\treference=\"customers\"\n\t\t>\n\t\t\t<TextField source=\"name\" />\n\t\t</ReferenceField>\n\t\t<ReferenceField\n\t\t\tsource=\"merchant\"\n\t\t\treference=\"merchants\"\n\t\t>\n\t\t\t<TextField source=\"name\" />\n\t\t</ReferenceField>\n\t\t<ReferenceField\n\t\t\tsource=\"seller\"\n\t\t\treference=\"sellers\"\n\t\t>\n\t\t\t<TextField source=\"name\" />\n\t\t</ReferenceField>\n\t</ListGuesser>\n);\n\nexport const Show = props => (\n\t<ShowGuesser {...props}>\n\t\t<FieldGuesser source=\"id\" addLabel={true} />\n\t\t<FieldGuesser source=\"username\" addLabel={true} />\n\t\t<FieldGuesser source=\"email\" addLabel={true} />\n\t\t<FieldGuesser source=\"roles\" addLabel={true} />\n\t\t<ReferenceField\n\t\t\tsource=\"customer\"\n\t\t\treference=\"customers\"\n\t\t>\n\t\t\t<TextField source=\"name\" />\n\t\t</ReferenceField>\n\t\t<ReferenceField\n\t\t\tsource=\"merchant\"\n\t\t\treference=\"merchants\"\n\t\t>\n\t\t\t<TextField source=\"name\" />\n\t\t</ReferenceField>\n\t\t<ReferenceField\n\t\t\tsource=\"seller\"\n\t\t\treference=\"sellers\"\n\t\t>\n\t\t\t<TextField source=\"name\" />\n\t\t</ReferenceField>\n\t</ShowGuesser>\n);","import React from 'react';\n\nimport { Redirect } from 'react-router-dom';\n\nimport {connect} from 'react-redux';\nimport requiresLogin from '../components/requires-login';\n\nimport { \n\tHydraAdmin, \n\tResourceGuesser,\n\tdataProvider as baseDataProvider, \n\tfetchHydra as baseFetchHydra \n } from '@api-platform/admin';\n\nimport parseHydraDocumentation from '@api-platform/api-doc-parser/lib/hydra/parseHydraDocumentation';\n\nimport {\n\tShoppingCart, \n\tAddShoppingCart, \n\tClass, \n\tPerson, \n\tVerifiedUser, \n\tApps, \n\tRecordVoiceOver, \n\tFormatListBulleted, \n\tStore, \n\tGridOn\n} from '@material-ui/icons';\nimport UsersIcon from '@material-ui/icons/Group';\n\nimport * as UsersGuesser from '../components/users-guesser';\n\n\nconst fetchHydra = (url, options = {}) => baseFetchHydra(url, {\n\t\t...options,\n\t\theaders: new Headers({'Authorization': `Bearer ${localStorage.getItem('token')}`}),\n});\nconst apiDocumentationParser = entrypoint => parseHydraDocumentation(entrypoint, { headers: new Headers({'Authorization': `Bearer ${localStorage.getItem('token')}`}) })\n\t\t.then(\n\t\t\t\t({ api }) => ({api}),\n\t\t\t\t(result) => {\n\t\t\t\t\t\tswitch (result.status) {\n\t\t\t\t\t\t\t\tcase 401:\n\t\t\t\t\t\t\t\t\t\treturn Promise.resolve({\n\t\t\t\t\t\t\t\t\t\t\t\tapi: result.api,\n\t\t\t\t\t\t\t\t\t\t\t\tcustomRoutes: [{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: '/',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trender: () => <Redirect to={`/login`}/>,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\treturn Promise.reject(result);\n\t\t\t\t\t\t}\n\t\t\t\t},\n\t\t);\n\nconst dataProvider = baseDataProvider(process.env.REACT_APP_API_URL, fetchHydra, apiDocumentationParser);\n\nexport class AdminPage extends React.Component {\n\trender() {\n\t\tif(this.props.roles.includes(\"ROLE_ADMIN\") === false) {\n\t\t\treturn \"Unauthorized access\"\n\t\t}\n\t\treturn (\n\t\t\t<HydraAdmin\n\t\t\t\tloginPage={false}\n\t\t\t\tapiDocumentationParser={ apiDocumentationParser }\n\t\t\t\tdataProvider={ dataProvider }\n\t\t\t\tentrypoint={ process.env.REACT_APP_API_URL }\n\t\t\t>\n\t\t\t\t<ResourceGuesser name=\"carts\" \n\t\t\t\t\ticon={ShoppingCart} \n\t\t\t\t/>\n\t\t\t\t<ResourceGuesser name=\"cart_items\" \n\t\t\t\t\ticon={AddShoppingCart}\n\t\t\t\t/>\n\t\t\t\t<ResourceGuesser name=\"categories\" \n\t\t\t\t\ticon={Class} \n\t\t\t\t/>\n\t\t\t\t<ResourceGuesser name=\"customers\" \n\t\t\t\t\ticon={Person} \n\t\t\t\t/>\n\t\t\t\t<ResourceGuesser name=\"merchants\" \n\t\t\t\t\ticon={VerifiedUser} \n\t\t\t\t/>\n\t\t\t\t<ResourceGuesser name=\"products\" \n\t\t\t\t\ticon={Apps} \n\t\t\t\t/>\n\t\t\t\t<ResourceGuesser name=\"sellers\" \n\t\t\t\t\ticon={RecordVoiceOver} \n\t\t\t\t/>\n\t\t\t\t<ResourceGuesser name=\"seller_items\" \n\t\t\t\t\ticon={FormatListBulleted}\n\t\t\t\t/>\n\t\t\t\t<ResourceGuesser name=\"shops\" \n\t\t\t\t\ticon={Store}\n\t\t\t\t/>\n\t\t\t\t<ResourceGuesser name=\"shop_items\" \n\t\t\t\t\ticon={GridOn} \n\t\t\t\t/>\n\t\t\t\t<ResourceGuesser name=\"users\" \n\t\t\t\t\tlist={UsersGuesser.List}\n\t\t\t\t\tcreate={UsersGuesser.Create}\n\t\t\t\t\tedit={UsersGuesser.Edit}\n\t\t\t\t\tshow={UsersGuesser.Show}\n\t\t\t\t\ticon={UsersIcon}\n\t\t\t\t/>\n\t\t\t</HydraAdmin>\t\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\tconst {currentUser} = state.auth;\n\treturn {\n\t\tusername: currentUser.username,\n\t\temail: currentUser.email,\n\t\troles: currentUser.roles\n\t};\n};\n\nexport default requiresLogin()(connect(mapStateToProps)(AdminPage));","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport requiresLogin from '../components/requires-login';\n// import {fetchProtectedData} from '../actions/protected-data';\n\nexport class DashboardPage extends React.Component {\n/*\tcomponentDidMount() {\n\t\tthis.props.dispatch(fetchProtectedData());\n\t}*/\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"dashboard\">\n\t\t\t\t<div className=\"dashboard-username\">\n\t\t\t\t\tUsername: {this.props.username}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"dashboard-email\">\n\t\t\t\t\tEmail: {this.props.email}\n\t\t\t\t</div>\n{/*\t\t\t\t<div className=\"dashboard-protected-data\">\n\t\t\t\t\tProtected data: {this.props.protectedData}\n\t\t</div>*/}\n\t\t<Link to='/orders'>Orders</Link>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\tconst {currentUser} = state.auth;\n\treturn {\n\t\tusername: currentUser.username,\n\t\temail: currentUser.email,\n\t\tprotectedData: state.protectedData.data\n\t};\n};\n\nexport default requiresLogin()(connect(mapStateToProps)(DashboardPage));\n","import React from 'react';\n\nexport default class Input extends React.Component {\n    componentDidUpdate(prevProps) {\n        if (!prevProps.meta.active && this.props.meta.active) {\n            this.input.focus();\n        }\n    }\n\n    render() {\n        let error;\n        if (this.props.meta.touched && this.props.meta.error) {\n            error = <div className=\"form-error\">{this.props.meta.error}</div>;\n        }\n\n        let warning;\n        if (this.props.meta.touched && this.props.meta.warning) {\n            warning = (\n                <div className=\"form-warning\">{this.props.meta.warning}</div>\n            );\n        }\n\n        return (\n            <div className=\"form-input\">\n                {error}\n                {warning}\n                <input\n                    {...this.props.input}\n                    id={this.props.input.name}\n                    type={this.props.type}\n                    placeholder={this.props.placeholder}\n                    ref={input => (this.input = input)}\n                />\n            </div>\n        );\n    }\n}\n","export const required = value => (value ? undefined : 'Obligatoire');\nexport const nonEmpty = value =>\n    value.trim() !== '' ? undefined : 'Cannot be empty';\nexport const isTrimmed = value =>\n    value.trim() === value ? undefined : 'Cannot start or end with whitespace';\nexport const length = length => value => {\n    if (length.min && value.length < length.min) {\n        return `Must be at least ${length.min} characters long`;\n    }\n    if (length.max && value.length > length.max) {\n        return `Must be at most ${length.max} characters long`;\n    }\n};\nexport const matches = field => (value, allValues) =>\n    field in allValues && value.trim() === allValues[field].trim()\n        ? undefined\n        : 'Does not match';\n","import React from 'react';\nimport {Field, reduxForm, focus} from 'redux-form';\nimport {registerUser} from '../actions/users';\nimport {login} from '../actions/auth';\nimport Input from './input';\nimport '../index.css';\nimport {required, nonEmpty, matches, length, isTrimmed} from '../validators';\n\nconst passwordLength = length({min: 10, max: 72});\nconst matchesPassword = matches('password');\n\nexport class RegistrationForm extends React.Component {\n    onSubmit(values) {\n        const {username, email, password } = values;\n        const user = {username, email, password };\n        return this.props\n            .dispatch(registerUser(user))\n            .then(() => this.props.dispatch(login(email, password)));\n    }\n\n    render() {\n        return (\n            <form\n                className=\"login-form\"\n                onSubmit={this.props.handleSubmit(values =>\n                    this.onSubmit(values)\n                )}>\n                <h2>Register for Univershop</h2>\n                <Field\n                    component={Input}\n                    type=\"text\"\n                    placeholder=\"Username\"\n                    name=\"username\"\n                    validate={[required, nonEmpty, isTrimmed]}\n                />\n                <Field\n                    component={Input}\n                    type=\"email\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    validate={[required, nonEmpty, isTrimmed]}\n                />\n                <Field\n                    component={Input}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    validate={[required, passwordLength, isTrimmed]}\n                />\n                <Field\n                    component={Input}\n                    type=\"password\"\n                    placeholder=\"Confirm password\"\n                    name=\"passwordConfirm\"\n                    validate={[required, nonEmpty, matchesPassword]}\n                />\n                <button\n                    type=\"submit\"\n                    disabled={this.props.pristine || this.props.submitting}>\n                    Register\n                </button>\n            </form>\n        );\n    }\n}\n\nexport default reduxForm({\n    form: 'registration',\n    onSubmitFail: (errors, dispatch) =>\n        dispatch(focus('registration', Object.keys(errors)[0]))\n})(RegistrationForm);\n","import {SubmissionError} from 'redux-form';\n\nimport {normalizeResponseErrors} from './utils';\n\nexport const registerUser = user => dispatch => {\n\treturn fetch(`${process.env.REACT_APP_API_URL}/users`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'content-type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify(user)\n\t})\n\t\t.then(res => normalizeResponseErrors(res))\n\t\t.then(res => res.json())\n\t\t.catch(err => {\n\t\t\tconst {reason, message, location} = err;\n\t\t\tif (reason === 'ValidationError') {\n\t\t\t\t// Convert ValidationErrors into SubmissionErrors for Redux Form\n\t\t\t\treturn Promise.reject(\n\t\t\t\t\tnew SubmissionError({\n\t\t\t\t\t\t[location]: message\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t});\n};\n\nexport const registerCustomer = customer => (dispatch, getState) => {\n\tconst authToken = getState().auth.token;\n\treturn fetch(`${process.env.REACT_APP_API_URL}/customers`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'content-type': 'application/json',\n\t\t\tAuthorization: `Bearer ${authToken}`\n\t\t},\n\t\tbody: JSON.stringify(customer)\n\t})\n\t\t.then(res => normalizeResponseErrors(res))\n\t\t.then(res => res.json())\n\t\t.catch(err => {\n\t\t\tconst {reason, message, location} = err;\n\t\t\tif (reason === 'ValidationError') {\n\t\t\t\t// Convert ValidationErrors into SubmissionErrors for Redux Form\n\t\t\t\treturn Promise.reject(\n\t\t\t\t\tnew SubmissionError({\n\t\t\t\t\t\t[location]: message\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t});\n};\n\nexport const registerCard = card => (dispatch, getState) => {\n\tconst authToken = getState().auth.token;\n\treturn fetch(`${process.env.REACT_APP_API_URL}/customers`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'content-type': 'application/json',\n\t\t\tAuthorization: `Bearer ${authToken}`\n\t\t},\n\t\tbody: JSON.stringify(card)\n\t})\n\t\t.then(res => normalizeResponseErrors(res))\n\t\t.then(res => res.json())\n\t\t.catch(err => {\n\t\t\tconst {reason, message, location} = err;\n\t\t\tif (reason === 'ValidationError') {\n\t\t\t\t// Convert ValidationErrors into SubmissionErrors for Redux Form\n\t\t\t\treturn Promise.reject(\n\t\t\t\t\tnew SubmissionError({\n\t\t\t\t\t\t[location]: message\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t});\n};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\n\nimport RegistrationForm from '../components/registration-form';\n\nexport function RegistrationPage(props) {\n\t// If we are logged in (which happens automatically when registration\n\t// is successful) redirect to the user's dashboard\n\tif (props.loggedIn) {\n\t\treturn <Redirect to=\"/dashboard\" />;\n\t}\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<RegistrationForm />\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = state => ({\n\tloggedIn: state.auth.currentUser !== null\n});\n\nexport default connect(mapStateToProps)(RegistrationPage);\n","import React from 'react';\nimport {Field, reduxForm, focus} from 'redux-form';\nimport Input from './input';\nimport {login} from '../actions/auth';\nimport {required, nonEmpty} from '../validators';\nimport {Link} from 'react-router-dom';\n\n\nexport class LoginForm extends React.Component {\n\tonSubmit(values) {\n\t\treturn this.props.dispatch(login(values.email, values.password));\n\t}\n\n\trender() {\n\t\tlet error;\n\t\tif (this.props.error) {\n\t\t\terror = (\n\t\t\t\t<div className=\"form-error\" aria-live=\"polite\">\n\t\t\t\t\t{this.props.error}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<form\n\t\t\t\tclassName=\"login-form\"\n\t\t\t\tonSubmit={this.props.handleSubmit(values =>\n\t\t\t\t\tthis.onSubmit(values)\n\t\t\t\t)}>\n\t\t\t\t<h2>Login for Univershop</h2>\n\t\t\t\t{error}\n\t\t\t\t<Field\n\t\t\t\t\tcomponent={Input}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tid=\"email\"\n\t\t\t\t\tvalidate={[required, nonEmpty]}\n\t\t\t\t/>\n\t\t\t\t<Field\n\t\t\t\t\tcomponent={Input}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tid=\"password\"\n\t\t\t\t\tvalidate={[required, nonEmpty]}\n\t\t\t\t/>\n\t\t\t\t<div className=\"form-bottom\">\n\t\t\t\t\t<button disabled={this.props.pristine || this.props.submitting}>\n\t\t\t\t\t\tLog in\n\t\t\t\t\t</button>\n\t\t\t\t\t<Link to=\"/register\">Pas encore inscrit ?</Link>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t\n\t\t);\n\t}\n}\n\nexport default reduxForm({\n\tform: 'login',\n\tonSubmitFail: (errors, dispatch) => dispatch(focus('login', 'email'))\n})(LoginForm);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\n\nimport LoginForm from '../components/login-form';\n\nexport function LoginPage(props) {\n\t\tif (props.loggedIn) {\n\t\t\t\treturn <Redirect to=\"/dashboard\" />;\n\t\t}\n\t\treturn (\n\t\t\t\t<div className=\"home\">\n\t\t\t\t\t\t<LoginForm />\n\t\t\t\t</div>\n\t\t);\n}\n\nconst mapStateToProps = state => ({\n\t\tloggedIn: state.auth.currentUser !== null\n});\n\nexport default connect(mapStateToProps)(LoginPage);\n","import React, { useRef } from 'react';\nimport { useFrame } from \"react-three-fiber\";\n\nimport Image2kSun from \"../images/2k_sun.jpg\"\n\nimport * as THREE from \"three\";\n\nexport default function System() {\n  const ref = useRef()\n  useFrame(() => (ref.current.rotation.y += 0.002))\n  const texture = new THREE.TextureLoader().load(Image2kSun);\n  return (\n    <mesh ref={ref} position={[0, 1, 0]} rotation-y={Math.PI / 2}>\n      <sphereGeometry attach=\"geometry\" args={[100, 100, 100]} />\n      <meshBasicMaterial attach=\"material\" map={texture} />\n    </mesh>\n  )\n}","import React, { useContext, useRef } from 'react';\nimport { Dom } from \"react-three-fiber\";\n\nimport { store } from '../store/GalaxyProvider';\n\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport default function Planet(props) {\n\n  const globalState = useContext(store);\n  const { dispatch, state } = globalState;\n  const ref = useRef()\n\n  // var texturesList = [\n  //   '/img/planetTexture/2k_jupiter.jpg',\n  //   '.img/planetTexture/2k_mars.jpg',\n  //   '/img/planetTexture/2k_saturn.jpg',\n  //   '/img/planetTexture/2k_venus_atmosphere.jpg',\n  //   '/img/planetTexture/2k_mercury.jpg'\n\n  // ];\n  // var randIndex = getRandomInt(0, texturesList.length - 1);\n  // var randTexture = new THREE.TextureLoader().load(texturesList[randIndex]);\n\n  const handleClick = (event) => {\n    if (typeof event.preventDefault !== \"undefined\") {\n      event.preventDefault(); //will stop the link href to call the blog page\n    }\n    state.position.setFromMatrixPosition(ref.current.matrixWorld);\n    dispatch({ type: \"zoom\", zoom: true })\n    setTimeout(function () {\n      state.history.push('/category/' + state.category_id + '/shop/' + props.shop_id)\n    }, 700); //will call the function after 2 secs.\n  }\n\n  return (\n    <mesh rotation-y={Math.PI / 2}\n      ref={ref}\n      onClick={handleClick}\n      {...props}\n\n    >\n      <sphereGeometry attach=\"geometry\" args={[getRandomInt(20, 40), 20, 30]} />\n      <meshLambertMaterial attach=\"material\" color='grey' />\n      <Dom>\n        <div onClick={handleClick}\n          style={{ cursor: 'pointer' }} className=\"content-planet-sdauhsdayudash\">\n          <a className=\"categories\">{props.shop_name}</a>\n        </div>\n      </Dom>\n    </mesh>\n  )\n}","import React, { useContext, useRef } from 'react';\nimport { useFrame } from \"react-three-fiber\";\n\nimport { store } from '../store/GalaxyProvider';\n\nimport Planet from './planet'\n\nfunction randomIntFromInterval(min, max) { // min and max included \n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport default function PivotSphere(props) {\n  const { state } = useContext(store);\n  const ref = useRef()\n  useFrame(() => {\n    if (state.hover === false) { ref.current.rotation.z += 0.002 }\n  })\n\n  return (\n    <group>\n      <mesh ref={ref} position={[0, 1, 0]} rotation-x={Math.PI / 2}>\n        <planeBufferGeometry attach=\"geometry\" args={[1, 1, 1]} />\n        {state.shops.map(shop => (\n          <Planet key={shop.id} shop_id={shop.id} shop_name={shop.name} position={[randomIntFromInterval(400, -400), randomIntFromInterval(400, -400), 0]} {...props} />\n        ))}\n      </mesh>\n    </group>\n  )\n}","import { useContext } from 'react';\nimport { useThree, useFrame } from \"react-three-fiber\";\nimport lerp from 'lerp'\n\nimport { store } from '../store/GalaxyProvider';\n\nexport default function Controls() {\n  const { state } = useContext(store);\n  const { camera } = useThree()\n\n  useFrame(() => {\n    if (state.zoom === false) {\n      camera.position.x = lerp(camera.position.x, -150, 0.08)\n      camera.position.y = lerp(camera.position.y, 300, 0.08)\n      camera.position.z = lerp(camera.position.z, 750, 0.08)\n    }\n    else {\n      camera.position.x = lerp(camera.position.x, state.position.x, 0.08)\n      camera.position.y = lerp(camera.position.y, state.position.y, 0.08)\n      camera.position.z = lerp(camera.position.z, state.position.z, 0.08)\n    }\n    camera.updateProjectionMatrix()\n  })\n\n  return null\n}","import React, { useEffect, useContext } from 'react';\nimport { Canvas, extend} from \"react-three-fiber\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\n\nimport System from '../3d/solar-system'\nimport PivotSphere from '../3d/pivot-sphere-planets'\nimport Controls from '../3d/controls'\n\nimport { store, GalaxyProvider } from '../store/GalaxyProvider';\nimport Background from '../images/space.jpg';\n\nextend({ OrbitControls, UnrealBloomPass, EffectComposer, RenderPass })\n\nfunction Content(props) {\n\tconst globalState = useContext(store);\n\tconst { dispatch } = globalState;\n\tuseEffect(() => {\n\t\tdispatch({ type: \"loadingShops\", history: props.history, category_id: props.category_id })\n\t\tfetch(`${process.env.REACT_APP_API_URL}/shops?category=${props.category_id}`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(res => {\n\t\t\t\tdispatch({ type: \"shopsLoaded\", shops: res[\"hydra:member\"] })\n\t\t\t})\n\t}, [])\n\tif (globalState.state.loadingShops === false) {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<pointLight position={[1, 1, 1]} />\n\t\t\t\t<ambientLight intensity={0.2} />\n\t\t\t\t<System />\n\t\t\t\t<PivotSphere />\n\t\t\t\t<Controls />\n\t\t\t</React.Fragment>\n\t\t)\n\t} else {\n\t\treturn null\n\t}\n}\n\nexport default function (props) {\n\treturn (\n\t\t<Canvas\n\t\t\tonCreated={({ camera }) => camera.lookAt(0, 0, 0)}\n\t\t\tstyle={{ position: \"absolute\", top: 0, backgroundImage: `url(${Background})` }}\n\t\t\tcamera={{ position: [-1000, 2000, 5000], fov: 50, near: 100, far: 5000 }}\n\t\t\tresize={{ scroll: false }}\n\t\t>\n\t\t\t<GalaxyProvider>\n\t\t\t\t<Content history={props.history} category_id={props.category_id} />\n\t\t\t</GalaxyProvider>\n\t\t</Canvas>\n\t)\n}","import React from 'react';\nimport SolarSystem from '../components/solar-system';\n\nexport default class ShopsPage extends React.Component {\n\n    render() {\n        return <SolarSystem history={this.props.history} category_id={this.props.match.params.id} />\n    }\n}","import React from 'react';\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom';\nimport Datasort from 'react-data-sort'\n\nimport IconBasket from \"../images/SVG/basket.svg\"\n\nclass ShopPage extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            shopItems: [],\n            loading: null,\n            sortBy: \"name\",\n            direction: \"asc\",\n            activePage: 0,\n            searchQuery: ''\n        }\n    }\n\n    async componentDidMount() {\n        this.setState({ loading: true })\n        const fetchText = url => fetch(url).then(r => r.json()); // 1\n        const /*2*/[shop, resShopItems] = /*3*/ await Promise.all([\n            fetchText(`${process.env.REACT_APP_API_URL}api/shops/${this.props.match.params.shop_id}`),\n            fetchText(`${process.env.REACT_APP_API_URL}/shop_items?shop=${this.props.match.params.shop_id}`)\n        ]);\n        this.setState({ loading: false, shop, shopItems: resShopItems[\"hydra:member\"]});\n    }\n\n    addCart(product) {\n        this.props.dispatch({\n            type: \"ADD_PRODUCT\",\n            product: { ...product, quantity: 1 }\n        })\n    }\n\n    setSortBy = sortBy => {\n        this.setState({ sortBy });\n    };\n\n    toggleDirection = () => {\n        this.setState({\n            direction: this.state.direction === \"asc\" ? \"desc\" : \"asc\"\n        });\n    };\n\n    goToPage = activePage => {\n        this.setState({ activePage });\n    };\n\n    prevPage = () => {\n        this.setState(({ activePage }) => ({\n            activePage: activePage - 1\n        }));\n    };\n\n    nextPage = () => {\n        this.setState(({ activePage }) => ({\n            activePage: activePage + 1\n        }));\n    };\n\n    render() {\n        const { sortBy, direction, activePage, searchQuery } = this.state;\n        if (this.state.loading === false) {\n            if(this.state.shopItems.length >= 1) {\n                return (\n                    <Datasort\n                        data={this.state.shopItems}\n                        sortBy={sortBy}\n                        direction={direction}\n                        activePage={activePage}\n                        searchQuery={searchQuery}\n                        paginate\n                        render={({ data, pages }) => {\n                            return (\n                                <div>\n                                    <Links\n                                        setSortBy={this.setSortBy}\n                                        sortBy={sortBy}\n                                        direction={direction}\n                                        toggleDirection={this.toggleDirection}\n                                    />\n                                    <h2>\n                                        {this.state.shop.name}\n                                    </h2>\n                                    <Content data={data} addCart={this.addCart.bind(this)} />\n                                    <Flex style={{ justifyContent: \"space-between\" }}>\n                                        <GoToPage goToPage={this.goToPage} pages={pages} />\n                                        <PageIndicator pages={pages} activePage={activePage} />\n                                        <Navigation\n                                            activePage={activePage}\n                                            goToPage={this.goToPage}\n                                            nextPage={this.nextPage}\n                                            prevPage={this.prevPage}\n                                            pages={pages}\n                                        />\n                                    </Flex>\n                                </div>\n                            );\n                        }}\n                    />\n                );   \n            } else {\n                return (\n                    \"Ce shop n'a pas de produit en vente actuellement\"\n                )\n            }\n        } else if(this.state.loading === true) {\n            return \"Loading...\"\n        } else {\n            return null\n        }\n    }\n}\n\nfunction Links({ setSortBy, sortBy, direction, toggleDirection }) {\n    const columns = [\n        { key: \"id\", title: \"ID\" },\n        { key: \"name\", title: \"Name\" },\n        { key: \"description\", title: \"Description\" },\n        { key: \"price\", title: \"Price\" },\n\n    ];\n    const items = columns.map(({ key, title }) => {\n        const active = key === sortBy;\n        return (\n            <ToggleLink\n                key={key}\n                active={active}\n                onClick={() => {\n                    if (active) {\n                        toggleDirection();\n                    }\n                    setSortBy(key);\n                }}\n            >\n                {title} {active ? direction === \"asc\" ? \"▲\" : \"▼\" : null}\n            </ToggleLink>\n        );\n    });\n    return (\n        <div style={{display: \"grid\", gridGap: \"5px\", gridAutoflow: \"column\"}}>\n            <div>Sort by</div>\n             {items}\n        </div>\n    );\n}\n\nfunction ToggleLink({ children, active, onClick }) {\n    return (\n        <div\n            onClick={onClick}\n            style={{ fontWeight: active ? \"bold\" : \"normal\", cursor: \"pointer\" }}\n        >\n            {children}\n        </div>\n    );\n}\n\nfunction Content({ data, addCart }) {\n    return (\n        <section id=\"productList\">\n            {data.map(({ product }) => (\n            <div key={product.id} class=\"containerProductList\">\n                <img src='https://fakeimg.pl/100x100/282828/F2F4F3' style={{width: 100, height: 100}} alt={product.name} />\n                <h2><Link to={`/product/${product.id}`}>{product.name}</Link></h2>\n                <p>{product.description}</p>\n                <h3>{product.price} &euro;</h3>\n                <button className=\"addToCart\" onClick={() => addCart(product)}><img src={IconBasket} style={{width: 15, height: 15}} alt={product.name} />Ajouter au panier</button>\n            </div>\n            ))}\n        </section>\n    );\n}\n\nfunction Flex({ children, style }) {\n    return <div style={{ display: \"flex\", ...style }}>{children}</div>;\n}\n\nfunction GoToPage({ goToPage, pages }) {\n    const options = [];\n    for (let i = 0; i < pages; i++) {\n        options.push(<option key={i} value={i}>{i + 1}</option>);\n    }\n    return (\n        <div>\n            Go to page{\" \"}\n            <select onChange={e => goToPage(parseInt(e.target.value))}>\n                {options}\n            </select>\n        </div>\n    );\n}\n\nfunction Navigation({ activePage = 0, goToPage, nextPage, prevPage, pages }) {\n    return (\n        <Flex>\n            <button disabled={activePage === 0} onClick={() => goToPage(0)}>\n                {\"<<\"}\n            </button>\n            <button disabled={activePage === 0} onClick={prevPage}>\n                {\"<\"}\n            </button>\n\n            <button disabled={activePage === pages - 1} onClick={nextPage}>\n                {\">\"}\n            </button>\n            <button\n                disabled={activePage === pages - 1}\n                onClick={() => goToPage(pages - 1)}\n            >\n                {\">>\"}\n            </button>\n        </Flex>\n    );\n}\n\nfunction PageIndicator({ pages, activePage = 0}) {\n    return (\n        <div>\n            <b>{activePage + 1}</b> / {pages}\n        </div>\n    );\n}\n\nexport default connect()(ShopPage);","import React from 'react';\nimport '../loading.css';\n\nexport default class Loading extends React.Component {\n    render() {\n        return (\n            <>\n            <div className=\"about\">\n                <a class=\"bg_links social portfolio\" href=\"https://www.rafaelalucas.com\" rel=\"noopener noreferrer\" target=\"_blank\">\n                    <span class=\"icon\"></span>\n                </a>\n                <a class=\"bg_links social dribbble\" href=\"https://dribbble.com/rafaelalucas\" rel=\"noopener noreferrer\" target=\"_blank\">\n                    <span class=\"icon\"></span>\n                </a>\n                <a class=\"bg_links social linkedin\" href=\"https://www.linkedin.com/in/rafaelalucas/\" rel=\"noopener noreferrer\" target=\"_blank\">\n                    <span class=\"icon\"></span>\n                </a>\n                <a class=\"bg_links logo\"></a>\n            </div>\n\n            <div className=\"content\">\n                <div className=\"planet\">\n                    <div className=\"ring\"></div>\n                        <div className=\"cover-ring\"></div>\n                    <div className=\"spots\">\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n\n                    </div>\n                </div>\n                <p>loading</p>\n            </div>\n            </>\n        );\n    }\n}\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport Loading from '../components/loading'\n\nclass ProductPage extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            loading: null,\n            productdetail: []\n        }\n    }\n\n    \n    componentDidUpdate(prevProps) {\n        if(this.props.match.params.product_id !== prevProps.match.params.product_id ) {\n            this.fetchCart()\n        }\n    }\n\n\n    componentDidMount(){\n        this.fetchCart()\n    }\n\n    fetchCart() {\n        this.setState({\n            loading: true,\n        })     \n        fetch(`${process.env.REACT_APP_API_URL}/products?id=${this.props.match.params.product_id}`)\n        .then(res => res.json())\n        .then(res => {\n             this.setState({\n                 loading: false,\n                productdetail: res[\"hydra:member\"]\n             })             \n        })\n    }\n\n    addCart(product) {\n        this.props.dispatch({\n            type: \"ADD_PRODUCT\",\n            product: {...product, quantity: 1}\n        })\n        // let cart = JSON.parse(localStorage.getItem(\"cart\"))\n        // if (Array.isArray(cart) === false) {\n        //     cart = []\n        // }\n        // cart.push(product)\n        //  // sauvegarde les modifications\n        // localStorage.setItem(\"cart\", JSON.stringify(cart))\n        // fetch(`${process.env.REACT_APP_API_URL}/cart_items`, {\n\t\t// \tmethod: 'POST',\n\t\t// \theaders: {\n\t\t// \t\t'Content-Type': 'application/json'\n\t\t// \t},\n\t\t// \tbody: JSON.stringify({\n        //         cart:\"${process.env.REACT_APP_API_URL}/carts/2\",\n        //         quantity:1,\n        //         product:`${process.env.REACT_APP_API_URL}/products/${productId}`})\n        // })\n    }\n\n    render() {\n        if(this.state.loading === false) {\n            const Products = this.state.productdetail.map(product => (\n                <div key={product.id}>\n                <h2>{product.name}</h2>\n                <h4>{product.description}</h4>\n                <h4>{product.price}</h4>\n                <h4>{product.images}</h4>\n                <h4>{console.log(product.images)}</h4>\n                <button className=\"addToCart\" onClick={() => this.addCart(product)}>Ajouter au panier</button>\n                </div>\n            ))\n            return <>\n            {Products}\n            </>\n            ;\n        } else {\n            return (<Loading />)\n        }\n        \n    }\n}\n\nexport default connect()(ProductPage);","import React from 'react';\nimport { connect } from 'react-redux';\nimport IconMinusSolid from \"../images/SVG/minus-solid.svg\"\nimport IconPlusSolid from \"../images/SVG/plus-solid.svg\"\n\nclass CartItem extends React.Component {\n\n    render() {\n        return (\n            \n             <div className=\"Product\">\n                <div style={{width: 100,textAlign: 'center'}}>\n                    <img src='https://fakeimg.pl/100x100/282828/F2F4F3' alt={this.props.product.name} style={{borderRadius: 15}} />\n                    <div className=\"itemsQuantity\">\n                        <img src={IconMinusSolid} onClick={() => {\n                            this.props.dispatch({\n                                type: \"DELETE_PRODUCT\",\n                                product: this.props.product\n                            })\n                        }} className=\"icon minus\" alt='#'/>\n                        <p>{this.props.product.quantity}</p>\n                        <img src={IconPlusSolid} onClick={() => {\n                        this.props.dispatch({\n                            type: \"ADD_PRODUCT\",\n                            product: this.props.product\n                        })}} className=\"icon add\" alt='#'/>\n                    </div>\n                </div>\n\n                <div className=\"Content\">\n                    <h1>{this.props.product.name}</h1> \n                    <p>{this.props.product.description}</p>\n                    <p style={{fontSize: '0.9rem'}}><strong>Prix unité : </strong> {this.props.product.price} &euro;</p>\n                    <p><strong>Sous total : </strong>{this.props.product.price*this.props.product.quantity} &euro;</p>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n\t...ownProps\n});\n\nexport default connect(mapStateToProps)(CartItem);","// import React from 'react';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport {Link} from 'react-router-dom';\n\nimport IconCreditCardMaestro from \"../images/SVG/credit-card-maestro.svg\"\nimport IconCreditCardMaster from \"../images/SVG/credit-card-master.svg\"\nimport IconCreditCardAmerican from \"../images/SVG/credit-card-american-express.svg\"\nimport IconCreditCardVisa from \"../images/SVG/credit-card-visa.svg\"\nimport IconCreditCardPaypal from \"../images/SVG/credit-card-paypal.svg\"\n\nclass CartTotal extends React.Component {\n    render() {\n        let total = this.props.shopItems.map(item => item.price * item.quantity).reduce((accumulator, currentValue) => (accumulator + currentValue))\n        return (\n            <div>\n                <h2>TOTAL</h2>\n                <h3>Livraison :</h3>\n                <h3>Total à payer : {total} &euro;</h3>\n                <Link to= '/checkout'><button className=\"payment\">Payment</button></Link>\n                <div id=\"credit-cards\">\n                    <img src={IconCreditCardMaestro} alt=\"credit-card-maestro\" style={{ width: '40px' }} className=\"credit-card\"></img>\n                    <img src={IconCreditCardMaster} alt=\"credit-card-master\" style={{ width: '40px' }} className=\"credit-card\"></img>\n                    <img src={IconCreditCardAmerican} alt=\"credit-card-american-express\" style={{ width: '50px' }} className=\"credit-card\"></img>\n                    <img src={IconCreditCardVisa} alt=\"credit-card-visa\" style={{ width: '60px' }} className=\"credit-card\"></img>\n                    <img src={IconCreditCardPaypal} alt=\"credit-card-paypal\" style={{ width: '70px' }} className=\"credit-card\"></img>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n    ...ownProps\n});\n\nexport default connect(mapStateToProps)(CartTotal);","import React from 'react';\nimport CartItem from './cart-item';\n\nimport { connect } from 'react-redux';\nimport CartTotal from './cart-total';\nimport {Link} from 'react-router-dom';\n\nclass Cart extends React.Component {\n\n    render() {\n        // let error;\n        // if (this.state.error) {\n        //     error = (\n        //         <div className=\"cart-error\" aria-live=\"polite\">\n        //             {this.state.error}\n        //         </div>\n        //     );\n        // }\n        if (this.props.cart.length > 0) {\n            \n            let shopItems = this.props.cart.map((shopItem, index, array) => ({\n                ...shopItem,\n                quantity: array.filter(shopItemB => shopItem.id === shopItemB.id).length\n            }))\n            shopItems = shopItems.filter((shopItem, index, self) => index === self.findIndex(shopItemB => shopItem.id === shopItemB.id))\n            return (\n                <React.Fragment>\n\n                    <div className=\"Cart-Left\">\n                        <h2>MON PANIER</h2>\n                        <div className=\"items\">\n                            {shopItems.map(item => (\n                                <CartItem product={{ ...item }} key={item.id} />\n                            ))}\n                        </div>\n                    </div>\n                    <div className=\"Cart-Right\">\n                        <CartTotal shopItems={shopItems}  />\n                    </div>\n                </React.Fragment>\n            );\n        } else {\n            return (\n                <div className=\"cart-error\" aria-live=\"polite\">\n                    <h3>Ton panier est vide :/</h3>\n                    <p>Gooo voyager sur nos principales planete afin de trouver ton bonheur :)</p>\n                    <Link to=\"/\"><button>C'est partit !</button></Link>\n                </div>\n            )\n\n        }\n    }\n}\n\nconst mapStateToProps = state => ({\n    cart: state.cart\n});\n\nexport default connect(mapStateToProps)(Cart);\n","import React from 'react';\nimport Cart from '../components/cart';\n\nexport default class CartPage extends React.Component {\n    render() {\n        return (\n            <div className=\"cart\">\n                <Cart />\n            </div>\n        );\n    }\n}\n","import React, { createContext, Component } from \"react\";\n\nexport const CheckoutContext = createContext();\n\nexport default class CheckoutProvider extends Component {\n\n\tconstructor(props) {\n        super(props);\n\t\tthis.state = {\n            cartItems: JSON.parse(localStorage.getItem(\"cart\")),\n            step: 0,\n            customer: {},\n            shipping: {},\n            nextStep: data => {\n                if(this.state.step === 0) {\n                    this.state.customer = data\n                } if(this.state.step === 1) {\n                    this.state.shipping = data\n                }\n                this.setState(prevState => ({\n                    step: prevState.step + 1\n                }))\n            },\n            previousStep: () => this.setState(prevState => ({\n                step: prevState.step - 1\n            })),\n            setShippingData: data => this.setState(() => ({\n                shipping: data\n            })),\n            setCustomerData: data => this.setState(() => ({\n                customer: data\n            })),\n\t\t}\n    }\n\n\trender() {\n        return (\n            <CheckoutContext.Provider value={this.state}>\n                {this.props.children}\n            </CheckoutContext.Provider>\n        );\n\t}\n}","import React from 'react';\nimport {CheckoutContext} from '../store/CheckoutProvider'\n\nexport default class CustomerInformation extends React.Component {\n\n    static contextType = CheckoutContext\n\n    constructor(props, context) {\n        super(props, context)\n        this.state = {\n            firstname: \"\",\n            lastname: \"\",\n            address: \"\",\n            cardNumber: null,\n            cvv: null,\n            expiryMonth: null,\n            expiryYear: null,\n        }\n    }\n\n\n    postData(event) {   \n        event.preventDefault()\n        this.context.nextStep(this.state)\n    }\n\n    handleChange(event) {\n        this.setState({\n            [event.target.name] : event.target.value\n        })\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.postData.bind(this)}>\n                <div className=\"container\">\n                <div className=\"info\">\n                    {/** MODIF */}\n                    <label for=\"firstname\">Prenom</label>\n                    <input value={this.state.firstname} onChange={this.handleChange.bind(this)} name=\"firstname\" id=\"firstname\" type=\"text\"/>\n                    <label for=\"lastname\">Nom</label>\n                    <input value={this.state.lastname} onChange={this.handleChange.bind(this)} name=\"lastname\" id=\"lastname\" type=\"text\"/>\n                    <label for=\"address\">Adresse</label>\n                    <input value={this.state.address} onChange={this.handleChange.bind(this)} name=\"address\" id=\"address\" type=\"text\"/>\n                    </div>\n                    <div className=\"card__container\">\n                        <div className=\"card\">\n                            <div className=\"row credit\">\n                                <div className=\"left\">\n\n\n                                    <label for=\"cd\">Debit/ Credit Card</label>\n\n\n\n                                </div>\n                                <div className=\"right\">\n                                    {/* <img src=\"http://i66.tinypic.com/5knfq8.png\" alt=\"visa\" />\n                                    <img src=\"http://i67.tinypic.com/14y4p1.png\" alt=\"mastercard\" />\n                                    <img src=\"http://i63.tinypic.com/1572ot1.png\" alt=\"amex\" />\n                                    <img src=\"http://i64.tinypic.com/2i92k4p.png\" alt=\"maestro\" /> */}\n                                </div>\n                            </div>\n                            <div className=\"row cardholder\">\n                                <div className=\"info\">\n\n\n                                    {/** MODIF */}\n                                    <label for=\"cardholdername\">Name</label>\n                                    <input value={this.state.cardholdername} onChange={this.handleChange.bind(this)} placeholder=\"e.g. Richard Bovell\" id=\"cardholdername\" type=\"text\" />\n\n                                </div>\n                            </div>\n                            <div className=\"row number\">\n                                <div className=\"info\">\n\n\n                                    {/** MODIF */}\n                                    <label for=\"cardnumber\">Card number</label>\n                                    <input value={this.state.cardNumber} onChange={this.handleChange.bind(this)} name=\"cardNumber\" id=\"cardNumber\" type=\"text\" pattern=\"[0-9]{16,19}\" maxlength=\"19\" placeholder=\"8888-8888-8888-8888\"\n                                        />\n\n\n\n                                </div>\n                            </div>\n                            <div className=\"row details\">\n                                <div className=\"left\">\n                                    <label for=\"expiry-date\">Expiry</label>\n\n\n                                    {/** MODIF */}\n                                    <select value={this.state.expiryMonth} onChange={this.handleChange.bind(this)} name=\"expiryMonth\" id=\"expiry-date\">\n                                        <option>MM</option>\n                                        <option value=\"1\">01</option>\n                                        <option value=\"2\">02</option>\n                                        <option value=\"3\">03</option>\n                                        <option value=\"4\">04</option>\n                                        <option value=\"5\">05</option>\n                                        <option value=\"6\">06</option>\n                                        <option value=\"7\">07</option>\n                                        <option value=\"8\">08</option>\n                                        <option value=\"9\">10</option>\n                                        <option value=\"11\">11</option>\n                                        <option value=\"12\">12</option>\n                                    </select>\n                                    <span>/</span>\n\n\n                                    {/** MODIF */}\n                                    <select value={this.state.expiryYear} onChange={this.handleChange.bind(this)} name=\"expiryYear\" id=\"expiry-date\">\n                                        <option>YYYY</option>\n                                        <option value=\"2016\">2016</option>\n                                        <option value=\"2017\">2017</option>\n                                        <option value=\"2018\">2018</option>\n                                        <option value=\"2019\">2019</option>\n                                        <option value=\"2020\">2020</option>\n                                        <option value=\"2021\">2021</option>\n                                        <option value=\"2022\">2022</option>\n                                        <option value=\"2023\">2023</option>\n                                        <option value=\"2024\">2024</option>\n                                        <option value=\"2025\">2025</option>\n                                        <option value=\"2026\">2026</option>\n                                        <option value=\"2027\">2027</option>\n                                        <option value=\"2028\">2028</option>\n                                        <option value=\"2029\">2029</option>\n                                        <option value=\"2030\">2030</option>\n                                    </select>\n\n\n\n\n\n                                </div>\n                                <div className=\"right\">\n\n\n                                    {/** MODIF */}\n                                    <label for=\"cvv\">CVC/CVV</label>\n                                    <input value={this.state.cvv} onChange={this.handleChange.bind(this)} name=\"cvv\" type=\"text\" maxlength=\"4\" placeholder=\"123\" />\n\n\n\n\n                                    <span data-balloon-length=\"medium\" data-balloon=\"The 3 or 4-digit number on the back of your card.\" data-balloon-pos=\"up\">i</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"button\">\n\n\n                        {/** MODIF */}\n                        <button>Suivant</button>\n\n                        </div>\n                    </div>\n                </form>\n        )\n\n    }\n}\n\n","import React, { Component } from 'react'\nimport {CheckoutContext} from '../store/CheckoutProvider'\n\nexport default class Shipping extends Component {\n\n    static contextType = CheckoutContext\n\n    constructor(props, context) {\n      super(props, context)\n      this.state = {\n        courier: \"relais\"\n      }\n    }\n \n    postData(event) {   \n      event.preventDefault()\n      this.context.nextStep(this.state)\n   }\n\n    handleChange(event) {\n      this.setState({\n          [event.target.name] : event.target.value\n      })\n   }\n\n    render() {\n        return (\n        <form onSubmit={this.postData.bind(this)}>\n          <label>Frais de port</label>\n          <div>\n            <label for=\"relais\">\n              Relais\n              <input\n              id=\"relais\"\n              checked={this.state.courier === 'relais'} \n              onChange={this.handleChange.bind(this)}\n              name=\"courier\" \n              type=\"radio\" \n              value=\"relais\" />\n            </label>\n\n            <label for=\"standard\">\n              Standard\n              <input \n              id=\"standard\"\n              checked={this.state.courier === 'standard'} \n              onChange={this.handleChange.bind(this)}\n              name=\"courier\" \n              type=\"radio\" \n              value=\"standard\" />\n            </label>\n\n            <label for=\"express\">\n              Express\n              <input\n              id=\"express\"\n              checked={this.state.courier === 'express'} \n              onChange={this.handleChange.bind(this)}\n              name=\"courier\" \n              type=\"radio\" \n              value=\"express\" />\n            </label>\n          </div>\n          <button>Suivant</button>\n        </form>\n        )\n    }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {CheckoutContext} from '../store/CheckoutProvider'\n\n\nclass Total extends React.Component {\n\n    static contextType = CheckoutContext\n\n    confirm(event) {   \n        event.preventDefault()\n        let orders = JSON.parse(localStorage.getItem(\"orders\"))\n        if(orders === null) {\n            orders = []\n        }\n        orders.push(this.context)\n        localStorage.setItem(\"orders\", JSON.stringify(orders))\n    }\n\n    render() {\n        let total = this.context.cartItems.map(item => item.price * item.quantity).reduce((accumulator, currentValue) => (accumulator + currentValue)) \n        return (\n            <div>\n                <form onSubmit={this.confirm.bind(this)}>\n                     <h4>Detaille de Votre Command</h4>\n                     <div>\n                         Prenom: {this.context.customer.firstname}\n                    </div>\n                    <div>\n                         Nom: {this.context.customer.lastname}\n                    </div>\n                    <div>\n                        Address: {this.context.customer.address}\n                    </div>\n                    <div>\n                        Type de livraison: {this.context.shipping.courier}\n                    </div>\n                    <div>\n                    {/* <h1>{this.props.product.name}</h1> \n                    <span><strong>Prix unité: </strong> {this.props.product.price} &euro;</span><br></br>\n                    <span><strong>Description : </strong>{this.props.product.description} </span>\n                    <div><strong>x : </strong>{this.props.product.quantity} </div>\n                    <div><strong>Prix total : </strong>{this.props.product.price*this.props.product.quantity} &euro;</div>   */}\n\n                        <h4>Resume du Panier</h4>\n                        {this.context.cartItems.map(cartItem => (\n                            <div>\n                                <span><strong>Nom de Produit : </strong> {cartItem.name}</span><br></br>\n                                <span><strong>Prix unité: </strong> {cartItem.price} &euro;</span><br></br>\n                                <div><strong>x : </strong>{cartItem.quantity}</div>\n                            </div>\n                        ))}\n                        <div><strong>Prix total : </strong>{total} &euro;</div>\n                    </div>\n                    \n                    <div className=\"button\">\n                        {/** MODIF */}\n                        <button>Confirm and Pay</button>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n\t...ownProps\n});\n\n\nexport default connect(mapStateToProps)(Total);","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport CheckoutProvider, {CheckoutContext} from \"../store/CheckoutProvider\"\nimport CustomerInformation from '../components/checkout-customer';\nimport Shipping from '../components/checkout-shipping'\nimport Total from '../components/checkout-total'\n\nclass CheckoutPage extends Component {\n\n\tstatic contextType = CheckoutContext\n\n\trender() {\n\t\treturn (\n\t\t\t<CheckoutProvider>\n\t\t\t\t<CheckoutContext.Consumer>\n\t\t\t\t\t{value =>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{value.step === 0 && <CustomerInformation />}\n\t\t\t\t\t\t\t{value.step === 1 && <Shipping />}\n\t\t\t\t\t\t\t{value.step === 2 && <Total />}\n\t\t\t\t\t\t\t{value.step > 0 && <button onClick={() => value.previousStep()}>Previous</button>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</CheckoutContext.Consumer>\n\t\t\t</CheckoutProvider>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tuser: state.auth.currentUser\n});\n\nexport default connect(mapStateToProps)(CheckoutPage);\n\n","import React from 'react';\nimport { CheckoutContext } from '../store/CheckoutProvider'\nimport requiresLogin from '../components/requires-login';\nimport { connect } from 'react-redux';\n\n\nclass OrdersPage extends React.Component {\n\n    static contextType = CheckoutContext\n\n    render() {\n\n        let orders = JSON.parse(localStorage.getItem(\"orders\"))\n        if (orders === null) {\n            orders = []\n        }\n        return (\n            <div>\n                <h2>Detail de commande :</h2>\n                {orders.map(order => (\n                    <div>\n                        {order.cartItems.map(cartItem => (\n                            <div>\n                                <h4>Nom produit : {cartItem.name}</h4>\n                                <h4>Description : {cartItem.description}</h4>\n                                <h4>Prix : {cartItem.price}  &euro;</h4>\n                                <h4>{cartItem.images}</h4>\n                                <h4>Quantite : {cartItem.quantity}</h4>\n                            </div>\n                        ))}\n                        <h2>Shipping :</h2>\n                        <h4>Service postal : {order.shipping.shippingType}</h4>\n                        <h2>Customer :</h2>\n                        <h4>Nom : {order.customer.firstname}</h4>\n                        <h4>Prenom : {order.customer.lastname}</h4>\n                        <h4>Addres : {order.customer.address}</h4>\n                    </div>\n                ))};\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => ({\n\tloggedIn: state.auth.currentUser !== null\n});\n\nexport default requiresLogin()(connect(mapStateToProps)(OrdersPage));","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Route, withRouter, Switch} from 'react-router-dom';\n\nimport HeaderBar from './header-bar';\n\nimport LandingPage from '../pages/landing-page';\nimport AdminPage from '../pages/admin-page';\nimport DashboardPage from '../pages/dashboard-page';\nimport RegistrationPage from '../pages/registration-page';\nimport LoginPage from '../pages/login-page';\nimport ShopsPage from '../pages/shops-page';\nimport ShopPage from '../pages/shop-page';\nimport DetailsProduct from '../pages/product-page';\nimport CartPage from '../pages/cart-page'\nimport CheckoutPage from '../pages/checkout-page'\nimport OrdersPage from '../pages/orders-page'\n\nimport {refreshAuthToken} from '../actions/auth';\n\nexport class App extends React.Component {\n\t\tcomponentDidUpdate(prevProps) {\n\t\t\t\tif (!prevProps.loggedIn && this.props.loggedIn) {\n\t\t\t\t\t// When we are logged in, refresh the auth token periodically\n\t\t\t\t\tthis.startPeriodicRefresh();\n\t\t\t\t} else if (prevProps.loggedIn && !this.props.loggedIn) {\n\t\t\t\t\t// Stop refreshing when we log out\n\t\t\t\t\tthis.stopPeriodicRefresh();\n\t\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tthis.stopPeriodicRefresh();\n\t\t}\n\n\t\tstartPeriodicRefresh() { // FIXME React admin might need some glue to work with this\n\t\t\tthis.refreshInterval = setInterval(\n\t\t\t\t\t() => this.props.dispatch(refreshAuthToken()),\n\t\t\t\t\t60 * 60 * 1000 // One hour\n\t\t\t);\n\t\t}\n\n\t\tstopPeriodicRefresh() {\n\t\t\tif (!this.refreshInterval) {\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearInterval(this.refreshInterval);\n\t\t}\n\n\t\trender() {\n\t\t\t\treturn (\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route exact path=\"/admin\" component={AdminPage} />\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<HeaderBar />\n\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={LandingPage} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/register\" component={RegistrationPage} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/login\" component={LoginPage} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/dashboard\" component={DashboardPage} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/category/:id\" component={ShopsPage} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/category/:cat_id/shop/:shop_id\" component={ShopPage} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/product/:product_id\" component={DetailsProduct} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/cart\" component={CartPage} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/checkout\" component={CheckoutPage} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/orders\" component={OrdersPage} />\n\t\t\t\t\t\t\t\t\t<Route><div>404 Not found</div></Route>\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t);\n\t\t}\n}\n\nconst mapStateToProps = state => ({\n\t\thasAuthToken: state.auth.authToken !== null,\n\t\tloggedIn: state.auth.currentUser !== null\n});\n\n// Deal with update blocking - https://reacttraining.com/react-router/web/guides/dealing-with-update-blocking\nexport default withRouter(connect(mapStateToProps)(App));\n","import {\n\t\tSET_AUTH_TOKEN,\n\t\tCLEAR_AUTH,\n\t\tAUTH_REQUEST,\n\t\tAUTH_SUCCESS,\n\t\tAUTH_ERROR\n} from '../actions/auth';\n\nconst initialState = {\n\t\ttoken: null,\n\t\tcurrentUser: null,\n\t\tloading: false,\n\t\terror: null\n};\n\nexport default function reducer(state = initialState, action) {\n\t\tif (action.type === SET_AUTH_TOKEN) {\n\t\t\t\treturn Object.assign({}, state, {\n\t\t\t\t\t\ttoken: action.token,\n\t\t\t\t\t\trefreshToken: action.refreshToken\n\t\t\t\t});\n\t\t} else if (action.type === CLEAR_AUTH) {\n\t\t\t\treturn Object.assign({}, state, {\n\t\t\t\t\t\ttoken: null,\n\t\t\t\t\t\trefreshToken: null,\n\t\t\t\t\t\tcurrentUser: null\n\t\t\t\t});\n\t\t} else if (action.type === AUTH_REQUEST) {\n\t\t\t\treturn Object.assign({}, state, {\n\t\t\t\t\t\tloading: true,\n\t\t\t\t\t\terror: null\n\t\t\t\t});\n\t\t} else if (action.type === AUTH_SUCCESS) {\n\t\t\t\treturn Object.assign({}, state, {\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\tcurrentUser: action.currentUser\n\t\t\t\t});\n\t\t} else if (action.type === AUTH_ERROR) {\n\t\t\t\treturn Object.assign({}, state, {\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\terror: action.error\n\t\t\t\t});\n\t\t}\n\t\treturn state;\n}\n","import {normalizeResponseErrors} from './utils';\n\nexport const FETCH_PROTECTED_DATA_SUCCESS = 'FETCH_PROTECTED_DATA_SUCCESS';\nexport const fetchProtectedDataSuccess = data => ({\n\ttype: FETCH_PROTECTED_DATA_SUCCESS,\n\tdata\n});\n\nexport const FETCH_PROTECTED_DATA_ERROR = 'FETCH_PROTECTED_DATA_ERROR';\nexport const fetchProtectedDataError = error => ({\n\ttype: FETCH_PROTECTED_DATA_ERROR,\n\terror\n});\n\nexport const fetchProtectedData = () => (dispatch, getState) => {\n\tconst authToken = getState().auth.authToken;\n\treturn fetch(`/protected`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\t// Provide our auth token as credentials\n\t\t\tAuthorization: `Bearer ${authToken}`\n\t\t}\n\t})\n\t\t.then(res => normalizeResponseErrors(res))\n\t\t.then(res => res.json())\n\t\t.then(({data}) => dispatch(fetchProtectedDataSuccess(data)))\n\t\t.catch(err => {\n\t\t\tdispatch(fetchProtectedDataError(err));\n\t\t});\n};\n","import {\n    FETCH_PROTECTED_DATA_SUCCESS,\n    FETCH_PROTECTED_DATA_ERROR\n} from '../actions/protected-data';\n\nconst initialState = {\n    data: '',\n    error: null\n};\n\nexport default function reducer(state = initialState, action) {\n    if (action.type === FETCH_PROTECTED_DATA_SUCCESS) {\n        return Object.assign({}, state, {\n            data: action.data,\n            error: null\n        });\n    } else if (action.type === FETCH_PROTECTED_DATA_ERROR) {\n        return Object.assign({}, state, {\n            error: action.error\n        });\n    }\n    return state;\n}\n","import { createStore, applyMiddleware, combineReducers } from 'redux'\nimport {reducer as formReducer} from 'redux-form'\nimport thunk from 'redux-thunk'\nimport authReducer from './reducers/auth'\nimport cartReducer from './reducers/cart'\nimport protectedDataReducer from './reducers/protected-data'\nimport { setAuthToken, refreshAuthToken } from './actions/auth'\n\nconst cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : []\n\nconst store = createStore(\n\t\tcombineReducers({\n\t\t\t\tcart: cartReducer,\n\t\t\t\tform: formReducer,\n\t\t\t\tauth: authReducer,\n\t\t\t\tprotectedData: protectedDataReducer\n\t\t}),\n\t\t{cart},\n\t\tapplyMiddleware(thunk)\n)\n\nstore.subscribe(state => {\n\tlocalStorage.setItem('cart', JSON.stringify(store.getState().cart))\n})\n\n// Hydrate the token from localStorage if it exist\nconst token = localStorage.getItem(\"token\")\nconst refreshToken = localStorage.getItem(\"refresh_token\")\nif (token) {\n\tstore.dispatch(setAuthToken(token, refreshToken))\n\tstore.dispatch(refreshAuthToken())\n}\n\nexport default store\n","export default function reducer(state = [], action) {\n\t\tif (action.type === \"ADD_PRODUCT\") {\n\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\taction.product\n\t\t\t\t\t\t]\n\t\t} else if (action.type === \"DELETE_PRODUCT\") {\n\t\t\t\tlet index = state.findIndex(product => product.id === action.product.id)\n\t\t\t\tstate.splice(index, 1)\n\t\t\t\treturn [\n\t\t\t\t\t\t...state\n\t\t\t\t]\n\t\t}\n\t\treturn state;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport App from './components/app';\nimport store from './store';\n\nReactDOM.render(\n\t\t<Provider store={store}>\n\t\t\t\t<Router basename={process.env.REACT_APP_PUBLIC_URL}>\n\t\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t</Provider>,\n\t\tdocument.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/basket.8303a225.svg\";","module.exports = __webpack_public_path__ + \"static/media/space.9d3600d7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/dashboard.1d07900f.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.51c48aa1.svg\";","module.exports = __webpack_public_path__ + \"static/media/settings.198db764.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.43fb8e78.svg\";","module.exports = __webpack_public_path__ + \"static/media/galaxy2.69477cb8.png\";","module.exports = __webpack_public_path__ + \"static/media/flare.ac85f706.png\";","module.exports = __webpack_public_path__ + \"static/media/2k_sun.7ce3a845.jpg\";","module.exports = __webpack_public_path__ + \"static/media/minus-solid.f5ffbe1a.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus-solid.46b960ee.svg\";","module.exports = __webpack_public_path__ + \"static/media/credit-card-maestro.a716727b.svg\";","module.exports = __webpack_public_path__ + \"static/media/credit-card-master.0bd37246.svg\";","module.exports = __webpack_public_path__ + \"static/media/credit-card-american-express.08e3d22b.svg\";","module.exports = __webpack_public_path__ + \"static/media/credit-card-visa.866a7d96.svg\";","module.exports = __webpack_public_path__ + \"static/media/credit-card-paypal.e2df43a7.svg\";"],"sourceRoot":""}